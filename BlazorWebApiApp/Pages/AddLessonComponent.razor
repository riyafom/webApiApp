@using System.Net.Http
@inject HttpClient Http
@using System.Net.Http.Json
@using System.Threading.Tasks
@using RESTfull.Domain

<div class="form-container">
  @*  <select lessonType ="lessontype">
        <option value="">Выберите тип занятия</option>
        <option value="Лекция">Лекция</option>
        <option value="Практика">Практика</option>
        <option value="Лабораторная">Лабораторная</option>
    </select>*@
    <input @bind="newLessonType" placeholder="Тип" />
    <input @bind="newTopic" placeholder="Тема" />
    <input @bind="newLecturerId" placeholder="id преподавателя" />
    <input @bind="newDisciplineId" placeholder="id дисциплины" />

    <button class="custom-button" @onclick="AddLesson">Добавить новое занятие</button>
</div>

@code {
    private LessonType newLessonType;
    private string newTopic;
    private int newLecturerId;
    private int newDisciplineId;

    //var lessontype = Request.Form["lessontype"];

    [Parameter]
    public EventCallback<string> OnAddLesson { get; set; }

    private async Task AddLesson()
    {
        var lesson = new Lesson
            {
                LessonType = newLessonType,
                Topic = newTopic,
                LecturerId = newLecturerId,
                DisciplineId = newDisciplineId

            };

        await Http.PostAsJsonAsync("https://localhost:7108/api/Lesson", lesson);
    }
}